#!/bin/bash

factorize() {
    num=$1
    for ((i = 2; i * i <= num; i++)); do
        if ((num % i == 0)); then
            echo "$i,$((num / i))"
            return
        fi
    done
    echo "None"
}

if [ $# -ne 1 ]; then
    echo "Usage: $0 <file>"
    exit 1
fi

input_file=$1

if [ ! -f "$input_file" ]; then
    echo "File not found"
    exit 1
fi

start_time=$(date +%s)

while read -r line; do
    num=$(echo "$line" | tr -d '[:space:]')
    factors=$(factorize "$num")
    if [ "$factors" != "None" ]; then
        echo "$num=$factors"
    fi
done < "$input_file"

if (( $(date +%s) - start_time > 5 )); then
    echo "Time limit exceeded"
    exit 1
fi
